<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8'>
<title>3D Modeling and Texturing</title>
    
<link href="css/site.css" media="screen" rel="stylesheet" type="text/css" />
<link href="css/highlight.default.css" media="screen" rel="stylesheet" type="text/css" />
  
<script src="js/jquery.js"></script>
<script src="js/showdown.js" type="text/javascript"></script>

<link rel="icon" type="image/x-icon" href="favicon.ico" />
</head>
<body>
<!--
Write the markdown code below.
A guide to markdown syntax is at http://daringfireball.net/projects/markdown/
-->

<div style="display: none" id="sourcetext">
[Maya 2014 online Help](http://download.autodesk.com/global/docs/maya2014/en_us/)      
Reference: Introducing Maya

# Maya Paint Effects
**Paint Effects** is a powerful tool that allows you to interactively paint specialized strokes that create complex geometry as a post-process. Numerous Paint Effects brushes are included with Maya and are grouped in such categories as trees, flowers, weather, and fire.

![pe01](img/maya/pe/comp_butterflyhill.png)

You can use Paint Effects as a traditional paint program to paint images on a canvas, or to paint repeatable textures that you can apply to geometry in your scenes.

## Practice I
### Prepare the scene I
1. Set project and save the scene.
2. Create NURBs patch. Draw a CV curve and duplicate it. Repeat once more to create four curves. 
3. Apply Surfaces // Surfaces / Boundary.

### Option I - prepare the scene II: create tubes for all isoparms.
1. From the Component mode, select Isoparm and apply Edit Curves / Duplicate Surface Curves
2. Create a small circle and place at the start point of the duplicated curve and apply Extrude.
3. Repeat for all isoparms. 

### Option II - Prepare the scene III: apply materials & deform.
1. Create two materials and make one with high transparency value and the other opaque.
2. Apply the transparency material to the large surface and the other to tubes.
3. Apply the proper deformer (Animation // Create Deformers / into the patch. 
Use Lattice or Nonlinear deformers.

### Paint Effects
1. Select the surface. Apply **Rendering // Paint Effects / Make Paintable**.
2. Choose **Get Brush**, then the **Visor** window will open. Select a brush style from the brush folder.

![pe01_01](img/maya/pe/visor.png)

3. Click+drag the mouse over the chosen surface. The Paint Effects stroke is laid over the surface, and the Paint Effects tube will grow from it. When you release the mouse button, the stroke is ended. You can add additional strokes by click+dragging again. You can retrieve a new brush style at any time from Get Brush. You can delete a stroke by selecting the associated stroke node in the Hypergraph or Outliner.
4. Render a test (Paint Effects is supported by Maya Software, but not mental ray). 

![pe02](img/maya/pe/comp_wireframe.png)
![pe03](img/maya/pe/comp_canvastubes.png)

## Practice II
![pe01](img/maya/pe/texture.png)

1. From the Visor, click the grassWindWide.mel brush. 
2. In the Perspective window, click and drag at least two lines across the grid to create two Paint Effects strokes of blowing grass. 
3. From the Visor, Select the dandelion_Yellow.mel brush in the Flower folder. 
4. Click and drag a new stroke between the strokes of grass.
5. Render a frame using Maya Software and not mental ray. Render out a 120-frame sequence to see how the grass animates in the wind. 

### Paint Effect attributes
After you create a Paint Effects stroke, you can edit the look and movement of the effect through the Attribute Editor. There are a large number of attributes to edit with Paint Effects.

- Select the stroke, and open the Attribute Editor. Switch to the stroke’s tab to the brush attributes.

A summary of some Paint Effects attributes:

**Brush Profile** gives you control over how the tubes are generated from the stroke; this is done with the Brush Width attribute. This makes tubes emit from a wider breadth from the stroke to cover more of an area.

**Shading and Tube Shading** gives you access to the color controls for the tubes on a stroke.

- **Color1 and Color2** from bottom to top, graduates from Color1 to Color 2 along the stalk only: The leaves and branches have their own color attributes, which you can display by choosing **Tubes / Growth**.
- **Incandescence1 and 2** Adds a gradient self-illumination to the tubes.
- **Transparency1 and 2** Adds a gradient transparency to each tube.
- **Hue/Sat/Value Rand** add some randomness to the color of the tubes.

**Tubes**: you’ll find all the attributes to control the growth of the Paint Effects effect. 

- In the **Creation** subsection, you can access the following:       
- **Tubes per Step** controls the number of tubes along the stroke.     
- **Length Min/Max** controls how tall the tubes are grown.    
- **Tube Width1 and Width2** controls the width of the tubes.   
		
- In the **Growth** subsection, you can access controls for branches, twigs, leaves, flowers, and buds for the Paint Effects strokes. Each attribute in these sections controls the number, size, and shape of those elements. Although not all Paint Effects strokes create flowers, all strokes contain these headings; some may or may not be active.
	
- In the **Behavior** subsection contains the controls for the dynamic forces affecting the tubes in a Paint Effects stroke. Adjust these attributes if you want your flowers to blow more in the wind.


#### Additional Notes
> Although Paint Effects brushes can create convincing results, they are unable to cover large areas effectively. For example, you can use the tool to paint patches of grass, weeds, or trees, but filling the entire park, meadow, or forest would be impractical in terms of render times and render stability.

> Paint Effects are rendered as a post process, which means they won’t render in reflections or refractions as is. 

> You can also **convert Paint Effects to polygonal surfaces** that will render in the scene along with any other objects so that they may take part in reflections and refractions. To convert a Paint Effects stroke to polygons, select the stroke and choose **Modify / Convert / Paint Effects to Polygons**. The polygon Paint Effects tubes can still be edited by most of the Paint Effects attributes mentioned so far; however, some, such as color, don’t affect the poly tubes. Instead, the color information is converted into a shader that is assigned to the polygons. It’s best to finalize your Paint Effects strokes before converting to polygons, to avoid any confusion.

> Paint Effects is a strong Maya tool and you can use it to create complex effects such as a field of blowing flowers. A large number of controls to create a variety of effects come with that complexity. Fortunately, Maya comes with a generous sampling of preset brushes. Experiment with a few brushes and their attributes to see what kinds of effects and strange plants you can create.

> Maya has really good documentation about Paint Effects in the Help files.

# MEL

**When to use:** performing the same complex task multiple times, which can quickly become tedious and time-consuming.

**Script Editor window / History / Echo All Commands:** it will show every command executed during a Maya session.    
	- The resulting history list becomes very long very quickly, but in some cases this is the best way to find out how Maya executes certain commands that are otherwise hidden from view. However the commands that Maya uses to perform a task are not always phrased the same way as the commands you use in the scripts that you write. 

	string $theCommand = "";
	
	for ($x = 0; $x < 5; $x++){
     	
     	int $whichShape = rand(2.0);  // This picks a random number between 0 and 2 and that will round down to either 0 or 1

    	switch ($whichShape)
		 {
			case 0:
			   $theCommand += " sphere;";
			   break;
			case 1:
			   $theCommand += " cone;";
			   break;
		 }
	  }
	print ("Now we're going to execute " + $theCommand);
	eval($theCommand);

## Review
- [Tumblr](http://ant3012.tumblr.com/)

## Homework
1. Three-point lighting rendering result of the Toad.
2. Cornell box with a **glass material** and 3 point lighting set-up.
3. Five shading experiment render image.
4. Eye shading with face mask modeling. 
5. Dice animation applying your expression and MEL.
6. Ambient occlusion render image.
7. Cornell box with global illumination and final gathering.

- One pdf of your plan for the final project.

## Final project
- Submit one folder (yourname_3Dmodeling) which includes **one pdf documentation** to describe your final project, **the final render image**, **seven homework (images, not Maya files)** which you have uploaded to Tumblr and **maya file of the final project + necessary textures** by Dec 20 9am to the [dropbox](https://www.dropbox.com/sh/ixb8kck4bp8fnks/Y0QPksNzYY).

## Notice
- On 18, 19, Prof. Ji will not be in Seoul. If you have questions, please mail me or mail me to make an appointment before 18th.



</div>
<div id="wrapper">
	
	<div class="header">
		
		<h1>ANT3012</h1>		
		<a href="index.html">Overview</a><br/><br/>

		<a href="mayafundt.html">Maya Fundamental</a><br/>
		<a href="mayaNURBs.html">Maya NURBs</a><br/>
		<a href="mayaPoly01.html">Maya Polygon I</a><br/>
		<a href="mayaShade.html">Maya Shading I & Lighting</a><br/>
		<a href="mayaPoly02.html">Maya Polygon II</a><br/>
		<a href="mayaTexture.html">Maya ShadingII: Texturing</a><br/>
		<a href="mayaRender.html">Maya Rendering</a><br/>
		<a href="mayaDynamics.html">Paint Effects</a><br/>		<br/>


	</div>
	<div class="section">
		<script type="text/javascript">
		//var converter = new Markdown.Converter();
		var converter = new Showdown.converter();
		document.write(converter.makeHtml($('#sourcetext').text()));
		</script>
	</div>
	
	<div class="footer">HyunKyung (Haru) Ji, 2013</div>
	
</div>
</body>
</html>